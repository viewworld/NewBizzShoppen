<search-box:>
  <div class="search_box">
    <h2>Filter</h2>

    <div class="search_content">
      <%= form_for @search, :url => administration_leads_path do |f| %>
          <fieldset class="inputs_vertical">
            <ol class="no_pdd">
              <li class="string">
                <%= f.label :with_keyword, t("administration.leads.index.search.keyword_label") %>
                <%= f.text_field :with_keyword %>
              </li>
              <li class="select">
                <%= f.label :with_category, t("administration.leads.index.search.category_label") %>
                <%= f.select :with_category, categories_for_select, :include_blank => true %>
              </li>
              <li class="select">
                <%= f.label :with_status, t("administration.leads.index.search.status_label") %>
                <%= f.select :with_status, statuses_for_select, :include_blank => true %>
              </li>
              <li class="select">
                <%= f.label :with_creator_type, t("administration.leads.index.search.owner_type_label") %>
                <%= f.select :with_creator_type, creator_types, :include_blank => true %>
              </li>
              <li class="string range">
                <%= f.label :price_from, "Price range" %>
                <%= f.text_field :price_from, :readonly => "readonly" %>
                <div class="range_container">
                  <div id="price_range" class="slider-range"></div>
                </div>
              </li>              
              <!--<li class="string input_60">-->
                <!--<%#= f.label :price_from, t("administration.leads.index.search.price_from_label") %>-->
                <!--<%#= f.text_field :price_from %>-->
              <!--</li>-->
              <!--<li class="string input_60">-->
                <!--<%#= f.label :price_to, t("administration.leads.index.search.price_to_label") %>-->
                <!--<%#= f.text_field :price_to %>-->
              <!--</li>-->

              <li class="string range">
                <%= f.label :lead_purchases_counter_from, "Sold range" %>
                <%= f.text_field :lead_purchases_counter_from, :readonly => "readonly" %>
                <div class="range_container">
                  <div id="sold_range" class="slider-range"></div>
                </div>
              </li>
              <!--<li class="string input_60">-->
                <!--<%#= f.label :lead_purchases_counter_from, t("administration.leads.index.search.lead_purchases_counter_from_label") %>-->
                <!--<%#= f.text_field :lead_purchases_counter_from %>-->
              <!--</li>-->
              <!--<li class="string input_60">-->
                <!--<%#= f.label :lead_purchases_counter_to, t("administration.leads.index.search.lead_purchases_counter_to_label") %>-->
                <!--<%#= f.text_field :lead_purchases_counter_to %>-->
              <!--</li>-->
              <li class="string range">
                <%= f.label :purchase_value_from, "Value range" %>
                <%= f.text_field :purchase_value_from, :readonly => "readonly" %>
                <div class="range_container">
                  <div id="value_range" class="slider-range"></div>
                </div>
              </li>              
              <!--<li class="string input_60">-->
                <!--<%#= f.label :purchase_value_from, t("administration.leads.index.search.purchase_value_from_label") %>-->
                <!--<%#= f.text_field :purchase_value_from %>-->
              <!--</li>-->
              <!--<li class="string input_60">-->
                <!--<%#= f.label :purchase_value_to, t("administration.leads.index.search.purchase_value_to_label") %>-->
                <!--<%#= f.text_field :purchase_value_to %>-->
              <!--</li>-->
              <li class="boolean">
                <%= f.check_box :purchased, {}, "true", "false" %>
                <%= f.label :purchased, t("administration.leads.index.view.filter_purchased") %>
              </li>              
              <li class="commit">
                <ibt c="bt_green" icon="magnify">
                  <%= submit_tag t("administration.leads.index.view.search_button") %>
                </ibt>
              </li>
            </ol>
          </fieldset>
      <% end %>
    </div>
  </div>
</search-box:>


<column-mc:>

  <header>Leads</header>

  <%= leads_table @leads, :show_checkboxes => false do |blocks| %>
      <% blocks.tools do |lead| %>
          <ul-actions>
            <li>
              <%= link_to t("administration.leads.index.view.show"), lead_path(lead) %>
            </li>
          </ul-actions>
      <% end %>
      <% blocks.status_column do |lead| %>
         <%= status_or_status_change(lead) %>
      <% end %>
  <% end %>
</column-mc:>

<js:>
<script type="text/javascript">
    jQuery(document).ready(function()
    {
        $("#price_range").slider({
            min: 0,
            max: 10000,
            values: [ 0, 10000 ],
            slide: function(event, ui) {
                $(this).parents().prev().val("$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ]);
            }
        });

        $("#sold_range").slider({
            min: 0,
            max: 20,
            values: [ 0, 20 ],
            slide: function(event, ui) {
                $(this).parents().prev().val(ui.values[ 0 ] + " - " + ui.values[ 1 ]);
            }
        });

        $("#value_range").slider({
            min: 0,
            max: 50,
            values: [ 0, 50 ],
            slide: function(event, ui) {
                $(this).parents().prev().val("$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ]);
            }
        });
    });
</script>
</js:>